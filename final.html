<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TTRL Turbo Tribe Racing League</title>
    <!-- Tailwind script removed from here -->

    <!-- Google Fonts: Oswald (for headings) and Inter (for body) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Added Work Sans, Open Sans, Exo, Montserrat, and Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Exo:wght@800&family=Inter:wght@400;500;600;700&family=Montserrat:wght@700&family=Oswald:wght@500;700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Work+Sans:wght@300;400;700&family=Open+Sans:ital,wght@1,300&display=swap" rel="stylesheet">


    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- IonIcons Script (for old constructor cards, can be removed if not needed) -->
    <!-- <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script> -->
    <!-- <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script> -->

    <style>
        /* Base body styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #030712; /* A very dark blue/black (Tailwind gray-950) */
            color: #d1d5db; /* text-gray-300 */
        }

        /* --- F1-STYLE TYPOGRAPHY --- */
        /* Apply Oswald font to all major headings and modal titles */
        h1, h2, h3, h4, .tab-button, #modal-gp, #modal-title {
            font-family: 'Oswald', sans-serif;
            text-transform: uppercase; /* F1 style is very uppercase */
            font-weight: 700;
            letter-spacing: 0.05em; /* Add a little space */
        }

        /* Countdown timer numbers */
        #countdown span[id] {
            font-family: 'Oswald', sans-serif;
            font-weight: 500;
        }

        /* --- NEW HERO SECTION STYLE --- */
        .hero-bg {
            background-image: linear-gradient(rgba(3, 7, 18, 0.7), rgba(3, 7, 18, 0.7)), url('https://raw.githubusercontent.com/HARISHWINNER/TTRL/refs/heads/main/RESOURCES/Belgium.avif');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            min-height: 75vh;
            position: relative;
        }
        .hero-text-shadow { text-shadow: 0 4px 15px rgba(0, 0, 0, 0.5); }

        /* --- CALENDAR SECTION BACKGROUND --- */
        #calendar {
            background-image: linear-gradient(rgba(3, 7, 18, 0.85), rgba(3, 7, 18, 0.85)), url('https://raw.githubusercontent.com/HARISHWINNER/TTRL/1bdfb752d8fcf8f1ae23c7d6e3bed31a32718a87/RESOURCES/1-w-GettyImages-2048270135.webp');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            position: relative;
        }

        /* --- REGISTRATION SECTION BACKGROUND --- */
        #register {
            background-image: linear-gradient(rgba(3, 7, 18, 0.85), rgba(3, 7, 18, 0.85)), url('https://raw.githubusercontent.com/HARISHWINNER/TTRL/cd1be0e0f854cf13a15343f5efc2caab5232c583/RESOURCES/001-EA-Sports-F1-2023-Video-Game-Review.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            position: relative;
        }
        #register .container { position: relative; z-index: 1; }

        /* --- INNOVATIVE HOVER & SECTION STYLES --- */
        /* --- Cursor Styles --- */
        body { cursor: auto; }
        a, button, .calendar-card[data-round] { cursor: pointer; }

        /* Glowing button effect */
        .btn-glow {
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(225, 29, 72, 0.2);
        }
        .btn-glow:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 25px rgba(225, 29, 72, 0.4);
        }


        /* --- NEW Card Overlay Effect (Calendar) --- */
        .calendar-card {
            position: relative;
            overflow: hidden; /* Contain the overlay */
            transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
            --active-color: #e11d48; /* Default to TTRL Red */
        }
        
        /* The circular overlay */
        .calendar-card::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px; /* Start small */
            height: 20px; /* Start small */
            border-radius: 50%;
            background: var(--active-color);
            opacity: 0.8;
            transform: translate(-50%, -50%) scale(0); /* Start at center, scaled to 0 */
            transition: transform 0.4s cubic-bezier(0.5, 1, 0.89, 1);
            z-index: 1;
        }
        
        .calendar-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 24px 36px rgba(0,0,0,0.11),
                0 24px 46px rgba(0,0,0,0.1);
        }
        
        /* Scale the overlay to fill the card */
        .calendar-card:hover::after {
            transform: translate(-50%, -50%) scale(20); /* Scale up to cover card */
        }

        /* Card Content (Sits on top of overlay) */
        .calendar-card .card-content {
            position: relative;
            z-index: 2;
            background: transparent; /* Was bg-gray-800/70 */
            transition: all 0.3s ease-out;
            /* Ensure content respects padding */
            width: 100%;
            height: 100%;
        }

        /* Text color transitions */
        .calendar-card .card-date,
        .calendar-card .card-gp,
        .calendar-card .card-track {
            transition: color 0.3s ease-out;
        }
        
        .calendar-card:hover .card-date { color: #f9a8d4; /* Lighter pink */ }
        .calendar-card:hover .card-gp { color: #ffffff; }
        .calendar-card:hover .card-track { color: #d1d5db; /* text-gray-300 */ }
        
        /* --- END Card Overlay Effect --- */


        /* --- TEAM COLORS (Text & Background) --- */
        /* Text Colors */
        .team-ferrari      { color: #DC0000; }
        .team-williams     { color: #0082FA; }
        .team-alpine       { color: #0090FF; }
        .team-haas         { color: #B6B6B8; }
        .team-mclaren      { color: #FF8700; }
        .team-kick-sauber  { color: #52E252; }
        .team-aston-martin { color: #006F62; }
        .team-racing-bulls { color: #469BFF; }
        .team-mercedes     { color: #00D2BE; }
        .team-red-bull     { color: #0600EF; }

        /* --- OTHER STYLES --- */
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #1f2937; }
        ::-webkit-scrollbar-thumb { background: #e11d48; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #be123c; }

        /* Standings tabs and reset button */
        .tab-active { background-color: #e11d48; color: #ffffff; }
        .tab-inactive { background-color: #374151; color: #d1d5db; }

        /* Modal styles */
        .modal { transition: opacity 0.3s ease, visibility 0.3s ease; }
        .modal-content { transition: transform 0.3s ease; }

        /* p5.js Section Styling (for Standings and Contact) */
        #standings, #contact {
            position: relative; /* Required for p5.js canvas */
            overflow: hidden; /* Contain the canvas */
        }
        #standings > .container, #contact > .container {
            position: relative; /* Ensure content is on top of canvas */
            z-index: 2;
        }
        /* Style for the p5.js canvas */
        #standings > canvas, #contact > canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1; /* Place it behind the content container (z-index: 2) */
        }


        /* --- NEW Driver Standings Card Grid (Hexagonal) --- */
        #driver-card-grid {
            display: grid;
            grid-template-columns: 1fr; /* 1 column by default */
            gap: 2.5rem; /* More gap for the effect */
            font-weight: 800;
            text-transform: uppercase;
        }
        
        /* 2 columns for medium screens */
        @media (min-width: 768px) {
            #driver-card-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        #driver-card-grid img {
            width: 100%;
            vertical-align: middle;
        }
        
        .driver-card__border,
        .driver-card__border-line,
        .driver-card__inner {
            -webkit-clip-path: polygon(50% 0, 100% 20%, 100% 80%, 50% 100%, 0% 80%, 0% 20%);
            clip-path: polygon(50% 0, 100% 20%, 100% 80%, 50% 100%, 0% 80%, 0% 20%);
        }
        
        .driver-card {
            font-family: "Exo", sans-serif;
            -webkit-filter: drop-shadow(0px 0px 5px var(--color)) drop-shadow(0px 0px 15px var(--color));
            filter: drop-shadow(0px 0px 5px var(--color)) drop-shadow(0px 0px 15px var(--color));
            position: relative;
            max-width: 400px;
            margin: auto;
            color: #ffffff; /* Make text white */
        }
        
        .driver-card__border {
            position: absolute;
            width: 98%;
            height: 102%;
            background: var(--color);
            left: 1%;
            top: 1%;
        }
        
        .driver-card__border-line {
            position: absolute;
            width: 95%;
            height: 99%;
            left: 2.5%;
            top: 2.5%;
            background: -webkit-gradient(linear,
                left top, left bottom,
                color-stop(33%, hsl(42, 90%, 72%)),
                color-stop(70%, hsl(0, 0%, 0%)));
            background: linear-gradient(to bottom,
                hsl(42, 90%, 72%) 33%,
                hsl(0, 0%, 0%) 70%);
        }
        
        .driver-card__inner {
            background: -webkit-linear-gradient(179deg, var(--color), #e3a83b 90%);
            background: linear-gradient(179deg, var(--color), #e3a83b 90%);
            padding: 0.5rem 0.2rem 0rem;
            width: 92%;
            margin-top: 4.8%;
            margin-left: 4%;
            position: relative; /* Ensure inner is relative for content */
        }
        
        .driver-card__img {
            padding: 0 1rem;
            background: repeating-linear-gradient(126deg,
                hsla(0, 0%, 100%, 0.219) 0%,
                #ffffff57 1.2%,
                transparent 1.19%,
                transparent 4%,
                transparent 4.1%);
        }
        
        @media screen and (max-width: 550px) {
            .driver-card__img {
                padding: 0 .2rem;
            }
        }
        
        .driver-img__team {
            background: hsla(0, 0%, 0%, 0.82);
            display: flex;
            padding: 1.5rem; /* More padding */
            align-items: center;
            justify-content: center; /* Center logo */
            min-height: 250px; /* Give it a fixed height */
        }

        .driver-img__team img {
            max-width: 80%; /* Don't let logo be 100% width */
            height: auto;
            object-fit: contain;
        }

        .driver-card__pos {
            width: min-content;
            margin: auto;
            padding: 0 1.5rem; /* Use rem for padding */
            border-radius: 5px;
            background: var(--bg-color, #374151); /* Use team color or fallback */
            color: #ffffff; /* Use light text */
            font-size: 1.5rem;
            margin-top: -6%;
            position: relative; /* Ensure it sits on top */
            z-index: 2;
        }

        @media screen and (max-width: 500px) {
            .driver-card__pos {
                font-size: min(1.2rem, 5vw);
            }
        }
        
        .driver-card__text{
            position: relative;
            padding-bottom: 16%;
            z-index: 1; /* Sit above pseudo-element */
        }
        
        .driver-card__text:before{
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            background: url('https://i.pinimg.com/originals/80/7d/ce/807dcedf950725fea6b935cdb6ffb4a6.jpg'); /* Sand texture*/
            opacity: 0.3;
            z-index: -1; /* Sit behind text */
        }
        
        .driver-card__name {
            font-family: "Exo", sans-serif;
            font-size: 2.8rem;
            margin: 2% 0 0;
            position: relative;
            color: #ffffff;
            /* Gradient border below the player name */
        }
        
        .driver-card__name:before {
            content: '';
            background: -webkit-gradient(linear,
                left top, right top,
                from(transparent),
                color-stop(#3730305c) ,
                color-stop(black),
                color-stop(#0000004f) ,
                to(transparent));
            background: linear-gradient(to right,
                transparent,
                #3730305c ,
                black,
                #0000004f ,
                transparent);
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            height: 5%;
        }

        @media screen and (max-width: 500px) {
            .driver-card__name {
                font-size: min(10vw, 2.5rem);
            }
        }
        
        .driver-card__points {
            font-family: "Exo", sans-serif;
            font-size: 4rem;
            margin: 0rem 0 10%;
            position: relative;
            color: #ffffff;
        }
        
        .driver-card__points:before {
            content: "";
            position: absolute;
            left: 50%;
            bottom: -2px;
            transform: translateX(-50%);
            width: 25%;
            height: 5%;
            background: black;
        }
        
        @media screen and (max-width: 500px) {
            .driver-card__points {
                font-size: min(12vw, 3.5rem);
            }
        }
        /* --- END Driver Standings Card Grid --- */


        /* --- NEW CONSTRUCTOR CARD STYLES (Nike) --- */
        #constructors-list-container {
            font-family: 'Poppins', sans-serif;
            position: relative;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); /* Responsive grid */
            gap: 2rem;
            justify-items: center;
        }

        #constructors-list-container .card {
            position: relative;
            width: 320px;
            height: 450px;
            background: #232323;
            border-radius: 20px;
            overflow: hidden;
            color: #fff; /* Default text color */
        }

        #constructors-list-container .card:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--color, #9bdc28); /* Use team color */
            clip-path: circle(150px at 80% 20%);
            transition: 0.5s ease-in-out;
        }

        #constructors-list-container .card:hover:before {
            clip-path: circle(300px at 80% -20%);
        }

        #constructors-list-container .card:after {
            content: var(--team-name, 'Team'); /* Use team name */
            position: absolute;
            top: 30%;
            left: -20%;
            font-size: 8em; /* Smaller font */
            font-weight: 800;
            font-style: italic;
            color: rgba(255,255,255,0.05); /* White transparent */
            white-space: nowrap;
        }

        #constructors-list-container .card .imgBx {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10000;
            width: 100%;
            height: 220px;
            transition: 0.5s;
        }

        #constructors-list-container .card:hover .imgBx {
            top: 0%;
            transform: translateY(0%);
        }

        #constructors-list-container .card .imgBx img {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* Removed rotate */
            width: 270px;
            object-fit: contain; /* Use contain for car images */
        }

        #constructors-list-container .card .contentBx {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 120px; /* Increased initial height */
            text-align: center;
            transition: 1s;
            z-index: 10;
        }

        #constructors-list-container .card:hover .contentBx {
            height: 210px;
        }

        #constructors-list-container .card .contentBx h2 {
            position: relative;
            font-weight: 600;
            letter-spacing: 1px;
            color: #fff;
            margin: 0;
            font-size: 1.5rem; /* Added font size */
        }
        
        /* Using .drivers for Drivers */
        #constructors-list-container .card .contentBx .drivers {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 8px 20px;
            transition: 0.5s;
            opacity: 0; /* Hidden by default */
            visibility: hidden; /* Hidden by default */
            padding-top: 0;
            padding-bottom: 0;
        }
        
        /* Using .points for Points */
        #constructors-list-container .card .contentBx .points {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 8px 20px;
            /* Removed opacity, visibility, transition */
        }


        #constructors-list-container .card:hover .contentBx .drivers {
            opacity: 1;
            visibility: visible;
            transition-delay: 0.5s;
        }
        
        /* Keep hover styles for points (optional, for consistency) */
        /* #constructors-list-container .card:hover .contentBx .points {
            opacity: 1;
            visibility: visible;
            transition-delay: 0.6s;
        } */

        #constructors-list-container .card .contentBx .drivers h3,
        #constructors-list-container .card .contentBx .points h3 {
            color: #fff;
            font-weight: 300;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-right: 10px;
        }

        #constructors-list-container .card .contentBx .drivers span {
            /* width: auto; */ /* Auto width for names */
            /* height: 26px; */
            padding: 0 8px; /* Padding for names */
            line-height: 26px;
            font-size: 14px;
            display: inline-block;
            color: #111;
            background: #fff;
            margin: 0 5px;
            transition: 0.5s;
            border-radius: 4px;
            cursor: default; /* Not clickable */
        }
        
        #constructors-list-container .card .contentBx .points span {
            font-size: 1.2rem;
            font-weight: 600;
            color: #fff;
        }

        #constructors-list-container .card .contentBx .drivers span:hover {
            background: var(--color, #9bdc28); /* Hover with team color */
            color: #111;
        }
        
        /* Removed link styles */
        /* #constructors-list-container .card .contentBx a { ... } */
        /* #constructors-list-container .card:hover .contentBx a { ... } */
        
        /* --- END CONSTRUCTOR CARD STYLES --- */


        /* --- Loading Screen Styles --- */
        #loading-screen {
            position: fixed; inset: 0; background-color: #030712;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            z-index: 100; opacity: 1;
            transition: opacity 0.5s ease-out 3.5s, visibility 0.5s ease-out 3.5s;
            visibility: visible;
        }
        #loading-screen.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
        .lights-container { display: flex; gap: 1.5rem; margin-bottom: 2rem; }
        .light {
            width: 50px; height: 50px; border-radius: 50%; background-color: #4b0000;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5); opacity: 0;
            animation: lightUp 3.5s forwards;
        }
        .light:nth-child(1) { animation-delay: 0.2s; }
        .light:nth-child(2) { animation-delay: 0.7s; }
        .light:nth-child(3) { animation-delay: 1.2s; }
        .light:nth-child(4) { animation-delay: 1.7s; }
        .light:nth-child(5) { animation-delay: 2.2s; }
        @keyframes lightUp {
            0% { opacity: 0; background-color: #4b0000; }
            10% { opacity: 1; background-color: #4b0000; }
            20% { background-color: #ff0000; box-shadow: inset 0 0 10px rgba(0,0,0,0.5), 0 0 20px #ff0000; }
            85% { background-color: #ff0000; box-shadow: inset 0 0 10px rgba(0,0,0,0.5), 0 0 20px #ff0000; opacity: 1; }
            100% { background-color: #1a1a1a; box-shadow: inset 0 0 10px rgba(0,0,0,0.5); opacity: 0.5; }
        }

        /* --- NEW OVERLAY NAVIGATION STYLES --- */
        .overlay-navigation {
            position: fixed;
            z-index: 99;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: hsla(0, 0%, 0%, 0.8);
            transform: translateY(-100%);
        }

        .overlay-slide-down {
            transition: all .4s ease-in-out;
            transform: translateY(0)
        }

        .overlay-slide-up {
            transition: all .8s ease-in-out;
            transform: translateY(-100%)
        }

        nav,
        nav ul {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            flex-basis: 20%;
            justify-content: center;
            align-items: center;
            height: 100%;
            overflow: hidden;
            transform: translateY(-100%);
        }

        nav li a {
            position: relative;
            top: 46%;
            color: #fff;
            text-transform: uppercase;
            font-family: 'Work sans', sans-serif;
            font-weight: 300;
            letter-spacing: 4px;
            text-decoration: none;
            display: block;
            text-align: center;
            font-size: 0.9rem;
        }

        nav li a:before {
            content: '';
            width: 70px;
            height: 2px;
            background-color: #fff;
            position: absolute;
            top: 50%;
            left: 0;
            z-index: 100;
            transform: translateX(-100%);
            opacity: 0;
            transition: all .2s linear;
        }

        nav li a:after {
            content: attr(data-content);
            font-size: 0.7rem;
            transition: all .2s linear;
            opacity: 0;
            position: absolute;
            z-index: 100;
            color: #fff;
            display: block;
            margin-right: auto;
            margin-left: auto;
            left: 0;
            right: 0;
            bottom: -50px;
            text-transform: none;
            font-family: 'Open sans', serif;
            font-weight: 300;
            font-style: italic;
            letter-spacing: 0;
        }

        nav li a:hover:before {
            transform: translateX(0);
            opacity: 1;
        }

        nav li a:hover:after {
            transform: translateY(15px);
            opacity: 1;
        }

        /* TTRL Theme Colors for Nav (Order Swapped) */
        nav li:nth-of-type(1){background-color: #e11d48} /* TTRL Red (Home) */
        nav li:nth-of-type(2){background-color: #9f1239} /* Darker Red (Calendar) */
        nav li:nth-of-type(3){background-color: #4b5563} /* Gray (Standings) */
        nav li:nth-of-type(4){background-color: #111827} /* Darkest Gray (Enrollment) */
        nav li:nth-of-type(5){background-color: #1f2937} /* Darker Gray (Contact) */


        .slide-in-nav-item {
            animation: slide-in-nav-item 0.4s linear 1 .2s both;
        }

        .slide-in-nav-item-delay-1 {
            animation: slide-in-nav-item 0.4s linear 1 .4s both;
        }

        .slide-in-nav-item-delay-2 {
            animation: slide-in-nav-item 0.4s linear 1 .6s both;
        }

        .slide-in-nav-item-delay-3 {
            animation: slide-in-nav-item 0.4s linear 1 .8s both;
        }

        .slide-in-nav-item-delay-4 {
            animation: slide-in-nav-item 0.4s linear 1 1s both;
        }

        .slide-in-nav-item-reverse {
            animation: slide-in-nav-item-reverse .3s linear 1 .5s both;
        }

        .slide-in-nav-item-delay-1-reverse {
            animation: slide-in-nav-item-reverse .3s linear 1 .4s both;
        }

        .slide-in-nav-item-delay-2-reverse {
            animation: slide-in-nav-item-reverse .3s linear 1 .3s both;
        }

        .slide-in-nav-item-delay-3-reverse {
            animation: slide-in-nav-item-reverse .3s linear 1 .2s both;
        }

        .slide-in-nav-item-delay-4-reverse {
            animation: slide-in-nav-item-reverse .3s linear 1 both;
        }


        /* Burger Menu Button */
        .open-overlay {
            /* Removed position, top, right */
            z-index: 100;
            width: 34px;
            display: block;
            cursor: pointer;
        }

        .open-overlay span {
            display: block;
            height: 1px;
            background-color: #fff; /* Kept white */
            cursor: pointer;
            margin-top: 8px;
        }
        .open-overlay span:first-child {
             margin-top: 0; /* Remove top margin from first bar */
        }

        .animate-top-bar {
            animation: animate-top-bar .6s linear 1 both
        }

        .animate-bottom-bar {
            animation: animate-bottom-bar .6s linear 1 both
        }

        .animate-middle-bar {
            animation: animate-middle-bar .6s linear 1 both
        }

        .animate-out-top-bar {
            animation: animate-out-top-bar .6s linear 1 both
        }

        .animate-out-bottom-bar {
            animation: animate-out-bottom-bar .6s linear 1 both
        }

        .animate-out-middle-bar {
            animation: animate-out-middle-bar .6s linear 1 both
        }


        /* Animation keyframes */
        @keyframes slide-in-nav-item {
            from { transform: translateY(-100%) }
            to { transform: translateY(0) }
        }
        @keyframes slide-in-nav-item-reverse {
            from { transform: translateY(0) }
            to { transform: translateY(-100%) }
        }
        @keyframes animate-top-bar {
            0% { background-color: #fff; }
            50% { transform: translateY(9px) }
            80% { transform: translateY(5px); background-color: #fff }
            100% { transform: translateY(0); background-color: #e11d48; } /* Changed color */
        }
        @keyframes animate-bottom-bar {
            0% { background-color: #fff; }
            50% { transform: translateY(-9px) }
            80% { transform: translateY(-5px); background-color: #fff; }
            100% { transform: translateY(0); background-color: #e11d48; } /* Changed color */
        }
        @keyframes animate-middle-bar {
            0% { background-color: #fff; }
            80% { background-color: #fff; }
            100% { background-color: #e11d48; } /* Changed color */
        }
        @keyframes animate-out-top-bar {
            0% { background-color: #e11d48 } /* Changed color */
            50% { transform: translateY(9px) }
            80% { transform: translateY(5px); background-color: #e11d48 } /* Changed color */
            100% { transform: translateY(0); background-color: #FFF; }
        }
        @keyframes animate-out-bottom-bar {
            0% { background-color: #e11d48 } /* Changed color */
            50% { transform: translateY(-9px) }
            80% { transform: translateY(-5px); background-color: #e11d48; } /* Changed color */
            100% { transform: translateY(0); background-color: #FFF; }
        }
        @keyframes animate-out-middle-bar {
            0% { background-color: #e11d48 } /* Changed color */
            80% { background-color: #e11d48; } /* Changed color */
            100% { background-color: #fff; }
        }
        
        /* Media query for mobile nav */
        @media (max-width: 640px) {
            nav ul {
                flex-direction: column; /* Stack vertically on mobile */
            }
            nav ul li {
                flex-basis: 20%; /* Each takes full width */
            }
            nav li a {
                font-size: 11px;
            }
            nav li a:after {
                font-size: 0.6rem;
            }
            nav li a:before {
                width: 15px;
            }
        }

    </style>
</head>
<body class="bg-gray-950 text-gray-300">

    <!-- NEW Overlay Navigation -->
    <div class="overlay-navigation">
        <nav role="navigation">
            <ul>
                <li><a href="#home" data-content="Back to the Top">Home</a></li>
                <li><a href="#calendar" data-content="See the Schedule">Calendar</a></li>
                <li><a href="#standings" data-content="Who's on Top?">Standings</a></li>
                <li><a href="#register" data-content="Join the Grid!">Enrollment</a></li>
                <li><a href="#contact" data-content="Get in Touch">Contact</a></li>
            </ul>
        </nav>
    </div>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="lights-container">
            <div class="light"></div>
            <div class="light"></div>
            <div class="light"></div>
            <div class="light"></div>
            <div class="light"></div>
        </div>
        <h1 class="text-4xl font-bold text-white">
             <span class="text-rose-600">TTRL</span> LOADING...
        </h1>
    </div>

    <!-- Header / Navigation -->
    <header class="bg-gray-950/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-800">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Logo -->
                <div class="flex-shrink-0">
                    <a href="#home" class="block">
                        <img src="https://raw.githubusercontent.com/HARISHWINNER/TTRL/ade50d630c482acbb96676fc69c2849a58494f7f/RESOURCES/image.png"
                             alt="TTRL Logo" class="h-12 w-auto">
                    </a>
                </div>
                
                <!-- NEW Hamburger Menu Trigger -->
                <div class="open-overlay">
                    <span class="bar-top"></span>
                    <span class="bar-middle"></span>
                    <span class="bar-bottom"></span>
                </div>
                
            </div>
        </nav>
    </header>

    <main>
        <!-- Home Section -->
        <section id="home" class="hero-bg relative flex items-center justify-center text-center overflow-hidden px-4 py-32">
            <div class="relative z-10">
                <h1 class="text-5xl sm:text-7xl lg:text-8xl font-extrabold text-white tracking-tight hero-text-shadow">
                    TTRL <span class="text-rose-600">TURBO TRIBE</span><br>RACING LEAGUE
                </h1>
                <p class="mt-6 text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto hero-text-shadow">
                    The ultimate destination for competitive and realistic F1 25 sim racing.
                    Do you have what it takes to become a champion?
                </p>
                <div class="mt-12">
                    <a href="#register" class="inline-block px-10 py-4 bg-rose-600 text-white text-lg font-bold rounded-md shadow-lg btn-glow">
                        JOIN THE GRID
                    </a>
                </div>
            </div>
        </section>

        <!-- Countdown Timer Section -->
        <section id="countdown-section" class="bg-gray-900 py-12 sm:py-16 relative z-10 border-b-4 border-rose-600">
            <div class="container mx-auto px-4">
                <div class="bg-gray-800/50 backdrop-blur-sm border border-gray-700 rounded-xl max-w-4xl mx-auto p-6 sm:p-8 shadow-2xl">
                    <div class="text-center">
                        <h2 class="text-3xl sm:text-4xl font-bold text-white mb-2">
                            NEXT RACE: <span id="next-race-gp" class="text-rose-500">LOADING...</span>
                        </h2>
                        <h3 id="next-race-track" class="text-xl sm:text-2xl font-medium text-gray-400 mb-8" style="font-family: 'Inter', sans-serif; text-transform: none; letter-spacing: normal;">
                            Calculating...
                        </h3>
                    </div>
                    <div id="countdown" class="grid grid-cols-2 sm:grid-cols-4 gap-4 text-white">
                        <div class="bg-gray-900/70 p-4 rounded-lg border border-gray-700 text-center">
                            <span id="days" class="block text-5xl sm:text-7xl font-extrabold">00</span>
                            <span class="block text-sm sm:text-base font-medium text-gray-400">DAYS</span>
                        </div>
                        <div class="bg-gray-900/70 p-4 rounded-lg border border-gray-700 text-center">
                            <span id="hours" class="block text-5xl sm:text-7xl font-extrabold">00</span>
                            <span class="block text-sm sm:text-base font-medium text-gray-400">HOURS</span>
                        </div>
                        <div class="bg-gray-900/70 p-4 rounded-lg border border-gray-700 text-center">
                            <span id="minutes" class="block text-5xl sm:text-7xl font-extrabold">00</span>
                            <span class="block text-sm sm:text-base font-medium text-gray-400">MINUTES</span>
                        </div>
                        <div class="bg-gray-900/70 p-4 rounded-lg border border-gray-700 text-center">
                            <span id="seconds" class="block text-5xl sm:text-7xl font-extrabold text-rose-500">00</span>
                            <span class="block text-sm sm:text-base font-medium text-gray-400">SECONDS</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Calendar Section -->
        <section id="calendar" class="py-24 relative">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-extrabold text-white sm:text-5xl">
                        LEAGUE <span class="text-rose-600">CALENDAR</span>
                    </h2>
                    <p class="mt-4 text-lg text-gray-200 max-w-2xl mx-auto" style="font-family: 'Inter', sans-serif; text-transform: none; letter-spacing: normal;">
                        Our 10-race championship spans the globe. Click a track for insights.
                    </p>
                </div>

                <!-- Calendar Grid -->
                <div id="calendar-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Calendar cards will be injected here by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Standings Section -->
        <section id="standings" class="py-24 border-y-4 border-gray-800">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-extrabold text-white sm:text-5xl">
                        CURRENT <span class="text-rose-600">STANDINGS</span>
                    </h2>
                    <p class="mt-4 text-lg text-gray-200 max-w-2xl mx-auto" style="font-family: 'Inter', sans-serif; text-transform: none; letter-spacing: normal;">
                        Who's leading the pack? See the latest points after the last round.
                    </p>
                </div>

                <!-- Standings Tabs -->
                <div class="flex justify-center items-center mb-8 gap-4">
                    <div class="flex space-x-2 sm:space-x-4">
                        <button id="drivers-tab" class="tab-button tab-active px-4 py-3 sm:px-6 font-bold text-base sm:text-lg rounded-md transition-all">DRIVER STANDINGS</button>
                        <button id="constructors-tab" class="tab-button tab-inactive px-4 py-3 sm:px-6 font-bold text-base sm:text-lg rounded-md transition-all">CONSTRUCTOR STANDINGS</button>
                    </div>
                </div>


                <!-- Standings Content Container -->
                <div class="max-w-4xl mx-auto">
                    
                    <!-- NEW Driver Standings Card Grid -->
                    <div id="drivers-table-container">
                        <div id="driver-card-grid">
                             <!-- Driver cards will be injected here -->
                        </div>
                        <p class="text-center text-sm text-gray-200 mt-4">Points after the Spain GP</p>
                    </div>


                    <!-- NEW Constructor Standings Card List -->
                    <div id="constructors-list-container" class="hidden">
                         <!-- Constructor cards will be injected here -->
                         <p class="text-center text-sm text-gray-200 mt-4" style="grid-column: 1 / -1;">Points after the Spain GP</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Registration Section -->
        <section id="register" class="py-24 text-center">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <i class="fa-solid fa-flag-checkered text-6xl text-rose-600 mb-6"></i>
                <h2 class="text-4xl font-extrabold text-white sm:text-5xl">
                    JOIN THE <span class="text-rose-600">GRID</span>
                </h2>
                <p class="mt-4 text-lg text-gray-200 max-w-2xl mx-auto" style="font-family: 'Inter', sans-serif; text-transform: none; letter-spacing: normal;">
                    Ready to prove your skill? Registrations are now open.
                    Fill out the Google Form to secure your spot for the upcoming season.
                </p>
                <div class="mt-12">
                    <a href="https://docs.google.com/forms/d/e/1FAIpQLSc1xE8SkAOIKoHaryLjNgTNXJfmBCSv73vdgxaAA0_uxnmUTw/viewform?usp=sharing&ouid=104200385701338668462" target="_blank" rel="noopener noreferrer"
                       class="inline-block px-12 py-5 bg-rose-600 text-white text-xl font-bold rounded-lg shadow-xl btn-glow">
                        <i class="fa-brands fa-google-drive mr-2"></i> ENROLLMENT
                    </a>
                    <p class="mt-4 text-sm text-gray-500">You will be redirected to an external Google Form.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer / Contact Section -->
    <footer id="contact" class="bg-gray-900 border-t border-gray-800">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-16 relative z-10">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-extrabold text-white">
                    CONTACT & <span class="text-rose-600">COMMUNITY</span>
                </h2>
                <p class="mt-3 text-lg text-gray-400" style="font-family: 'Inter', sans-serif; text-transform: none; letter-spacing: normal;">
                    Get in touch with the league admins and join the conversation.
                </p>
            </div>

            <!-- Social Links Grid -->
            <div class="flex flex-wrap justify-center gap-6 text-3xl sm:text-4xl">
                <!-- Discord -->
                <a href="https://discord.gg/EuyPTXqbg6" target="_blank" rel="noopener noreferrer"
                   class="flex flex-col items-center group w-28 text-gray-400 hover:text-[#5865F2] transition-all duration-300">
                    <div class="p-5 bg-gray-800 rounded-full group-hover:bg-gray-700/50 group-hover:scale-110 border border-gray-700 group-hover:border-[#5865F2] transition-all duration-300">
                        <i class="fa-brands fa-discord"></i>
                    </div>
                    <span class="mt-3 text-sm font-medium uppercase tracking-wide">Discord</span>
                </a>

                <!-- YouTube -->
                <a href="https://www.youtube.com/@TurboTribeRacingLeague" target="_blank" rel="noopener noreferrer"
                   class="flex flex-col items-center group w-28 text-gray-400 hover:text-[#FF0000] transition-all duration-300">
                    <div class="p-5 bg-gray-800 rounded-full group-hover:bg-gray-700/50 group-hover:scale-110 border border-gray-700 group-hover:border-[#FF0000] transition-all duration-300">
                        <i class="fa-brands fa-youtube"></i>
                    </div>
                    <span class="mt-3 text-sm font-medium uppercase tracking-wide">Stream</span>
                </a>

                <!-- Email -->
                <a href="mailto:turbotriberacingleague@gmail.com"
                   class="flex flex-col items-center group w-28 text-gray-400 hover:text-[#3B82F6] transition-all duration-300">
                    <div class="p-5 bg-gray-800 rounded-full group-hover:bg-gray-700/50 group-hover:scale-110 border border-gray-700 group-hover:border-[#3B82F6] transition-all duration-300">
                        <i class="fa-solid fa-envelope"></i>
                    </div>
                    <span class="mt-3 text-sm font-medium uppercase tracking-wide">Email</span>
                </a>

                <!-- Steam -->
                <a href="https://steamcommunity.com/profiles/76561199497506530/" target="_blank" rel="noopener noreferrer"
                   class="flex flex-col items-center group w-28 text-gray-400 hover:text-white transition-all duration-300">
                    <div class="p-5 bg-gray-800 rounded-full group-hover:bg-gray-700/50 group-hover:scale-110 border border-gray-700 group-hover:border-white transition-all duration-300">
                        <i class="fa-brands fa-steam"></i>
                    </div>
                    <span class="mt-3 text-sm font-medium uppercase tracking-wide">Steam</span>
                </a>
            </div>

            <div class="mt-16 text-center text-gray-500 text-sm">
                <p>&copy; <span id="current-year"></span> TTRL Turbo Tribe Racing League. All rights reserved.</p>
                <p class="mt-1">This is an unofficial fan-run league and is not affiliated with Codemasters, EA, or Formula One.</p>
            </div>
        </div>
    </footer>

    <!-- Calendar Modal -->
    <div id="calendar-modal" class="modal fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div id="modal-backdrop" class="fixed inset-0"></div>
        <!-- Modal content -->
        <div class="modal-content bg-gray-900 w-full max-w-2xl rounded-xl shadow-2xl border border-gray-700 overflow-hidden relative z-10 transform scale-95 opacity-0">
            <!-- Modal Header -->
            <div class="flex justify-between items-center p-5 border-b border-gray-700">
                <h3 id="modal-title" class="text-2xl font-bold text-white">Track Insights</h3>
                <button id="modal-close-btn" class="text-gray-400 hover:text-white transition-colors">
                    <i class="fa-solid fa-xmark fa-2x"></i>
                </button>
            </div>
            <!-- Modal Body -->
            <div class="p-0 max-h-[80vh] overflow-y-auto">
                <img id="modal-map" class="w-full h-64 object-contain bg-black" src="https://placehold.co/768x432/374151/e11d48?text=Track+Map" alt="Track Map">
                <div class="p-6">
                    <p id="modal-date" class="text-sm font-medium text-rose-500 mb-1" style="font-family: 'Inter', sans-serif; text-transform: none; letter-spacing: normal;"></p>
                    <h4 id="modal-gp" class="text-3xl font-bold text-white mb-1">Grand Prix Name</h4>
                    <p id="modal-track" class="text-lg text-gray-400 mb-5" style="font-family: 'Inter', sans-serif; text-transform: none; letter-spacing: normal;"></p>

                    <!-- INSIGHT BLOCK -->
                    <div class="mb-5">
                        <h4 class="text-base font-semibold text-gray-200 mb-2 uppercase tracking-wider">Insight</h4>
                        <p id="modal-insight" class="text-gray-300 text-base" style="font-family: 'Inter', sans-serif; text-transform: none; letter-spacing: normal;">Loading insight...</p>
                    </div>

                    <!-- STATS BLOCK -->
                    <div id="modal-stats-block" class="border-t border-gray-700 pt-5">
                        <h4 class="text-base font-semibold text-gray-200 mb-3 uppercase tracking-wider">Track Stats</h4>
                        <div class="grid grid-cols-2 gap-x-4 gap-y-3 text-base" style="font-family: 'Inter', sans-serif; text-transform: none; letter-spacing: normal;">
                            <div class="text-gray-400">Laps: <span id="modal-laps" class="font-semibold text-gray-200">--</span></div>
                            <div class="text-gray-400">Length: <span id="modal-length" class="font-semibold text-gray-200">-- km</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- p5.js Script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.4/p5.min.js"></script>
    <!-- jQuery Script (for new nav) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>


    <script>
        // --- DATA ---

        // League Calendar Data
        const leagueCalendar = [
            { round: 0, gp: "Pre-Season Testing", date: "12/09/25", track: "Suzuka International Racing Course", mapUrl: "https://www.sportmonks.com/wp-content/uploads/2022/07/Suzuka-International-Racing-Course--768x432.png", insight: "A crucial time for teams to gather data, test new parts, and understand the car before the championship begins at Bahrain.", stats: null },
            { round: 1, gp: "Bahrain Grand Prix", date: "19/09/25", track: "Bahrain International Circuit", mapUrl: "https://www.sportmonks.com/wp-content/uploads/2022/07/Bahrain-circuit-768x432.png", insight: "A 'stop and go' track known for heavy braking zones and good overtaking opportunities, especially into Turns 1 and 4. Tire degradation is a major factor.", stats: { laps: 29, length: "5.412 km" } },
            { round: 2, gp: "Australian Grand Prix", date: "26/09/25", track: "Albert Park Circuit", mapUrl: "https://www.sportmonks.com/wp-content/uploads/2022/07/Albert-Park-Circuit-768x432.png", insight: "A fast, flowing street circuit with multiple DRS zones. It's a high-speed track that feels like a permanent circuit. Key overtaking spots are Turns 1, 3, and 9.", stats: { laps: 29, length: "5.278 km" } },
            { round: 3, gp: "Emilia Romagna Grand Prix", date: "03/10/25", track: "Autodromo Enzo e Dino Ferrari (Imola)", mapUrl: "https://www.sportmonks.com/wp-content/uploads/2022/07/Autodromo-Enzo-e-Dino-Ferrari-768x432.png", insight: "An old-school, narrow track with punishing gravel traps. It's fast, unforgiving, and very technical. Overtaking is notoriously difficult, so qualifying and strategy are critical.", stats: { laps: 32, length: "4.909 km" } },
            { round: 4, gp: "Spanish Grand Prix", date: "10/10/25", track: "Circuit de Barcelona-Catalunya", mapUrl: "https://www.sportmonks.com/wp-content/uploads/2024/02/Circuit-de-Barcelona-768x432.png", insight: "A well-known test track with a great mix of high and low-speed corners. The long, sweeping Turn 3 is a true test of car balance. Tire management is crucial here.", stats: { laps: 33, length: "4.657 km" } },
            { round: "break", gp: "Season Break", date: "", track: "Time for teams to regroup and upgrade.", mapUrl: "https://placehold.co/768x432/1f2937/e11d48?text=SEASON+BREAK", insight: "A mid-season break for teams to analyze performance, develop upgrades, and for drivers to recharge.", stats: null },
            { round: 5, gp: "Great Britain Grand Prix", date: "24/10/25", track: "Silverstone Circuit", mapUrl: "https://www.sportmonks.com/wp-content/uploads/2022/07/Silverstone-Circuit--768x432.png", insight: "An iconic, high-speed circuit featuring legendary corners like Maggotts, Becketts, and Chapel. Requires high downforce and strong aerodynamic efficiency.", stats: { laps: 26, length: "5.891 km" } },
            { round: 6, gp: "Las Vegas Grand Prix", date: "31/10/25", track: "Las Vegas Strip Circuit", mapUrl: "https://www.sportmonks.com/wp-content/uploads/2024/02/Las-Vegas-GP-768x432.png", insight: "A fast street circuit with long straights, especially down the famous Strip. Expect high top speeds, heavy braking, and many overtaking opportunities.", stats: { laps: 25, length: "6.201 km" } },
            { round: 7, gp: "Belgian Grand Prix", date: "07/11/25", track: "Circuit de Spa-Francorchamps", mapUrl: "https://www.sportmonks.com/wp-content/uploads/2022/07/Circuit-de-Spa-Francorchamps-768x432.png", insight: "A driver favorite, known for its length, elevation changes, and the iconic Eau Rouge/Raidillon sequence. It's a high-speed, low-downforce track.", stats: { laps: 22, length: "7.004 km" } },
            { round: 8, gp: "Austrian Grand Prix", date: "14/11/25", track: "Red Bull Ring", mapUrl: "https://www.sportmonks.com/wp-content/uploads/2022/07/Red-Bull-Ring-768x432.png", insight: "A short, 'power' circuit with long straights and heavy uphill braking zones. The lap is very quick. It offers great overtaking opportunities into Turns 1, 3, and 4.", stats: { laps: 36, length: "4.318 km" } },
            { round: 9, gp: "So Paulo Grand Prix", date: "21/11/25", track: "Autdromo Jos Carlos Pace (Interlagos)", mapUrl: "https://www.sportmonks.com/wp-content/uploads/2022/07/Auto%CC%81dromo-Jose%CC%81-Carlos-Pace--768x432.png", insight: "A classic anti-clockwise track with significant elevation changes. The long uphill run to Turn 1 is a major DRS zone. The 'Senna S' is an iconic opening sequence.", stats: { laps: 36, length: "4.309 km" } },
            { round: 10, gp: "Abu Dhabi Grand Prix", date: "28/11/25", track: "Yas Marina Circuit", mapUrl: "https://www.sportmonks.com/wp-content/uploads/2022/07/Yas-Marina-Circuit--768x432.png", insight: "A modern circuit with a mix of high-speed straights and a technical final sector. Overtaking was improved with recent layout changes.", stats: { laps: 29, length: "5.281 km" } }
        ];

        // Original data, DO NOT MODIFY
        const originalDriverStandings = Object.freeze([
            { pos: 1, driver: "Simman", team: "Ferrari", points: 91 }, { pos: 2, driver: "Wi7ard", team: "Williams", points: 70 }, { pos: 3, driver: "TheGodfather", team: "Alpine", points: 40 }, { pos: 4, driver: "ApexEntropy", team: "Alpine", points: 27 }, { pos: 5, driver: "Overlord", team: "McLaren", points: 22 }, { pos: 6, driver: "Kentucky", team: "Haas", points: 22 }, { pos: 7, driver: "Oxygen", team: "Kick Sauber", points: 18 }, { pos: 8, driver: "Vibin", team: "Aston Martin", points: 18 }, { pos: 9, driver: "Apurrv", team: "Aston Martin", points: 17 }, { pos: 10, driver: "Mahesh", team: "Williams", points: 16 }, { pos: 11, driver: "Harish", team: "Haas", points: 15 }, { pos: 12, driver: "Clone", team: "Racing Bulls", points: 8 }, { pos: 13, driver: "Memb", team: "Mercedes", points: 8 }, { pos: 14, driver: "Bopedope", team: "McLaren", points: 6 }, { pos: 15, driver: "Majunu", team: "Ferrari", points: 4 }, { pos: 16, driver: "Denji", team: "Red Bull Racing", points: 2 }, { pos: 17, driver: "Doc YT", team: "Racing Bulls", points: 1 }, { pos: 18, driver: "Maayaone", team: "Mercedes", points: 0 }, { pos: 19, driver: "HarryBeckham", team: "Red Bull Racing", points: 0 }, { pos: 20, driver: "Bala", team: "Kick Sauber", points: 0 }
        ]);

        const originalConstructorStandings = Object.freeze([
            { pos: 1, team: "Ferrari", points: 95 }, { pos: 2, team: "Williams", points: 86 }, { pos: 3, team: "Alpine", points: 53 }, { pos: 4, team: "Haas", points: 38 }, { pos: 5, team: "Aston Martin", points: 35 }, { pos: 6, team: "Kick Sauber", points: 33 }, { pos: 7, team: "McLaren", points: 28 }, { pos: 8, team: "Red Bull Racing", points: 23 }, { pos: 9, team: "Racing Bulls", points: 9 }, { pos: 10, team: "Mercedes", points: 8 }
        ]);

        // Helper function to get team CSS class (for border accent)
        function getTeamClass(teamName) {
            const name = teamName.toLowerCase().replace(/ /g, '-');
            if (name.includes('red-bull-racing')) return 'team-red-bull';
            if (name.includes('kick-sauber')) return 'team-kick-sauber';
            if (name.includes('aston-martin')) return 'team-aston-martin';
            if (name.includes('racing-bulls')) return 'team-racing-bulls';
            return `team-${name}`;
        }
        
        // --- NEW Team Color & Logo Maps ---
        // Used for --color on driver/constructor cards
        const teamColorMap = {
            "Ferrari": "hsl(357, 100%, 49%)", // #DC0000
            "Williams": "hsl(217, 100%, 49%)", // #0082FA
            "Alpine": "hsl(205, 100%, 50%)", // #0090FF
            "Haas": "hsl(220, 3%, 73%)", // #B6B6B8
            "McLaren": "hsl(32, 100%, 50%)", // #FF8700
            "Kick Sauber": "hsl(120, 73%, 58%)", // #52E252
            "Aston Martin": "hsl(172, 100%, 22%)", // #006F62
            "Racing Bulls": "hsl(211, 100%, 64%)", // #469BFF
            "Mercedes": "hsl(174, 100%, 41%)", // #00D2BE
            "Red Bull Racing": "hsl(240, 100%, 48%)", // #0600EF
            "default": "hsl(347, 83%, 54%)" // #e11d48
        };
        
        // Used for team logos on driver cards
        const teamLogoMap = {
            "Ferrari": "https://raw.githubusercontent.com/S-HARISH44/TTRL-RESOURCES/d4faca0970a4d20419af0e364a9e1aebb9af0fe0/LOGOS/ferrari.png",
            "Williams": "https://raw.githubusercontent.com/S-HARISH44/TTRL-RESOURCES/d4faca0970a4d20419af0e364a9e1aebb9af0fe0/LOGOS/williams.png",
            "Alpine": "https://raw.githubusercontent.com/S-HARISH44/TTRL-RESOURCES/d4faca0970a4d20419af0e364a9e1aebb9af0fe0/LOGOS/alpine.png",
            "Haas": "https://raw.githubusercontent.com/S-HARISH44/TTRL-RESOURCES/d4faca0970a4d20419af0e364a9e1aebb9af0fe0/LOGOS/haas.png",
            "McLaren": "https://raw.githubusercontent.com/S-HARISH44/TTRL-RESOURCES/d4faca0970a4d20419af0e364a9e1aebb9af0fe0/LOGOS/mclaren.png",
            "Kick Sauber": "https://raw.githubusercontent.com/S-HARISH44/TTRL-RESOURCES/d4faca0970a4d20419af0e364a9e1aebb9af0fe0/LOGOS/kick_sauber.png",
            "Aston Martin": "https://raw.githubusercontent.com/S-HARISH44/TTRL-RESOURCES/d4faca0970a4d20419af0e364a9e1aebb9af0fe0/LOGOS/martin.png",
            "Racing Bulls": "https://raw.githubusercontent.com/S-HARISH44/TTRL-RESOURCES/d4faca0970a4d20419af0e364a9e1aebb9af0fe0/LOGOS/vcarb.png",
            "Mercedes": "https://raw.githubusercontent.com/S-HARISH44/TTRL-RESOURCES/d4faca0970a4d20419af0e364a9e1aebb9af0fe0/LOGOS/mercedes.png",
            "Red Bull Racing": "https://raw.githubusercontent.com/S-HARISH44/TTRL-RESOURCES/d4faca0970a4d20419af0e364a9e1aebb9af0fe0/LOGOS/redbull.png"
        };
        // --- END Team Color & Logo Maps ---

        // --- CORE FUNCTIONS (Moved before DOMContentLoaded) ---

        // Countdown Timer Function
        function startCountdown(targetDate) {
            const daysEl = document.getElementById('days'); const hoursEl = document.getElementById('hours'); const minutesEl = document.getElementById('minutes'); const secondsEl = document.getElementById('seconds'); const countdownEl = document.getElementById('countdown');
            if (!daysEl || !hoursEl || !minutesEl || !secondsEl || !countdownEl) { console.error("Countdown elements not found!"); return; }
            const interval = setInterval(() => {
                const now = new Date().getTime(); const distance = targetDate - now;
                if (distance < 0) { clearInterval(interval); countdownEl.innerHTML = '<h2 class="col-span-2 sm:col-span-4 text-4xl font-bold text-green-500 text-center py-10">RACE IS LIVE!</h2>'; return; }
                const days = Math.floor(distance / (1000 * 60 * 60 * 24)); const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)); const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)); const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                daysEl.textContent = String(days).padStart(2, '0'); hoursEl.textContent = String(hours).padStart(2, '0'); minutesEl.textContent = String(minutes).padStart(2, '0'); secondsEl.textContent = String(seconds).padStart(2, '0');
            }, 1000);
        }

        // Populate Calendar Grid
        function populateCalendar() {
            const grid = document.getElementById('calendar-grid'); if (!grid) return; grid.innerHTML = '';
            
            // Define colors for calendar cards
            const testingColor = "#0082FA"; // Williams Blue
            const raceColor = "#e11d48"; // TTRL Red
            
            leagueCalendar.forEach(race => {
                if (race.round === "break") { 
                    grid.innerHTML += `
                        <div class="lg:col-span-3 md:col-span-2 col-span-1 rounded-lg shadow-xl overflow-hidden flex items-center justify-center min-h-[150px] opacity-80 border-2 border-dashed border-gray-700 bg-gray-800/50">
                            <div class="p-6 text-center">
                                <i class="fa-solid fa-pause-circle text-5xl text-gray-500 mb-3"></i>
                                <h3 class="text-3xl font-bold text-white mb-1">${race.gp}</h3>
                                <p class="text-base text-gray-400" style="font-family: 'Inter', sans-serif; text-transform: none; letter-spacing: normal;">${race.track}</p>
                            </div>
                        </div>`;
                    return; 
                }
                
                const isTesting = race.round === 0;
                const roundText = isTesting ? "TESTING" : `RND ${race.round}`;
                const activeColor = isTesting ? testingColor : raceColor;
                const tagBg = isTesting ? 'bg-blue-600' : 'bg-rose-600';
                const tagText = isTesting ? 'text-blue-400' : 'text-rose-500';

                const card = `
                    <div data-round="${race.round}" class="calendar-card rounded-lg shadow-xl cursor-pointer bg-gray-800/70 border border-gray-700" style="--active-color: ${activeColor};">
                        <div class="card-content p-6 relative">
                            <div class="absolute top-0 right-0 ${tagBg} text-white font-bold px-3 py-1 m-4 rounded-md text-sm" style="font-family: 'Inter', sans-serif; letter-spacing: normal; text-transform: none;">
                                ${roundText}
                            </div>
                            <p class="card-date text-sm font-medium ${tagText} mb-1" style="font-family: 'Inter', sans-serif; text-transform: none; letter-spacing: normal;">${race.date}</p>
                            <h3 class="card-gp text-2xl font-bold text-white mb-1 mt-2">${race.gp}</h3>
                            <p class="card-track text-base text-gray-400" style="font-family: 'Inter', sans-serif; text-transform: none; letter-spacing: normal;">${race.track}</p>
                        </div>
                    </div>`;
                grid.innerHTML += card;
            });
        }

        // --- Standings Population and Sorting ---

        // NEW: Populate Driver Cards (Hexagonal)
        function populateDriverCards() {
            const grid = document.getElementById('driver-card-grid');
            if (!grid) return;
            grid.innerHTML = ''; // Clear existing content

            originalDriverStandings.forEach((driver) => {
                const teamClass = getTeamClass(driver.team);
                const activeColor = teamColorMap[driver.team] || teamColorMap['default'];
                const logoUrl = teamLogoMap[driver.team] || `https://placehold.co/100x24/374151/e11d48?text=${driver.team.replace(/ /g, '+')}`;
                
                // Get driver's first name for the card
                const driverName = driver.driver; // Using full name

                const cardHTML = `
                    <div class="driver-card ${teamClass}" style="--color: ${activeColor};">
                        <div class="driver-card__border"></div>
                        <div class="driver-card__border-line"></div>
                        <div class="driver-card__inner">
                            <div class="driver-card__img">
                                <div class="driver-img__team">
                                    <img src="${logoUrl}" alt="Team: ${driver.team} logo" 
                                         onerror="this.src='https://placehold.co/100x24/374151/e11d48?text=${driver.team.replace(/ /g, '+')}';">
                                </div>
                            </div>
                            <div class="driver-card__text">
                                <div class="driver-card__pos" style="--bg-color: ${activeColor};">P${driver.pos}</div>
                                <h1 class="driver-card__name">${driverName}</h1>
                                <p class="driver-card__points">${driver.points} PTS</p>
                            </div>
                        </div>
                    </div>
                `;
                grid.innerHTML += cardHTML;
            });
        }


        // Populate the constructor list (NEW Nike-style card format)
        function populateConstructorList() {
            const listContainer = document.getElementById('constructors-list-container');
            if (!listContainer) return;
            listContainer.innerHTML = ''; // Clear existing content

            // Build the driver map from the original, unsorted driver list
            const teamDriverMap = {};
            originalDriverStandings.forEach(driver => {
                if (!teamDriverMap[driver.team]) {
                    teamDriverMap[driver.team] = [];
                }
                teamDriverMap[driver.team].push(driver.driver);
            });


            // Map team names to car image URLs
            const teamImageMap = {
                "Ferrari": "https://raw.githubusercontent.com/HARISHWINNER/TTRL/0209d9644059efa457ae2add943edb21beba6349/RESOURCES/Constructor/ferrari.png",
                "Williams": "https://raw.githubusercontent.com/HARISHWINNER/TTRL/0209d9644059efa457ae2add943edb21beba6349/RESOURCES/Constructor/williams.png",
                "Alpine": "https://raw.githubusercontent.com/HARISHWINNER/TTRL/0209d9644059efa457ae2add943edb21beba6349/RESOURCES/Constructor/alpine.png",
                "Haas": "https://raw.githubusercontent.com/HARISHWINNER/TTRL/0209d9644059efa457ae2add943edb21beba6349/RESOURCES/Constructor/haas.png",
                "Aston Martin": "https://raw.githubusercontent.com/HARISHWINNER/TTRL/0209d9644059efa457ae2add943edb21beba6349/RESOURCES/Constructor/aston.png",
                "Kick Sauber": "https://raw.githubusercontent.com/HARISHWINNER/TTRL/0209d9644059efa457ae2add943edb21beba6349/RESOURCES/Constructor/stake.png",
                "McLaren": "https://raw.githubusercontent.com/HARISHWINNER/TTRL/0209d9644059efa457ae2add943edb21beba6349/RESOURCES/Constructor/mclaren.png",
                "Red Bull Racing": "https://raw.githubusercontent.com/HARISHWINNER/TTRL/0209d9644059efa457ae2add943edb21beba6349/RESOURCES/Constructor/redbull.png",
                "Racing Bulls": "https://raw.githubusercontent.com/HARISHWINNER/TTRL/0209d9644059efa457ae2add943edb21beba6349/RESOURCES/Constructor/racing_bulls.png",
                "Mercedes": "https://raw.githubusercontent.com/HARISHWINNER/TTRL/0209d9644059efa457ae2add943edb21beba6349/RESOURCES/Constructor/mecedes.png" // Typo in URL maintained
            };
            const defaultCarImage = "https://placehold.co/270x220/1f2937/6b7280?text=Car+Image";

            originalConstructorStandings.forEach(team => {
                const carImageUrl = teamImageMap[team.team] || defaultCarImage;
                const drivers = teamDriverMap[team.team] || ["Driver 1", "Driver 2"];
                const driver1 = drivers[0];
                const driver2 = drivers[1];
                const teamColor = teamColorMap[team.team] || teamColorMap['default'];
                
                // Get a short name for the background text
                let bgTeamName = team.team;
                if (bgTeamName.includes("Racing")) bgTeamName = "Red Bull"; // Red Bull Racing
                if (bgTeamName.includes("Kick")) bgTeamName = "Sauber";
                if (bgTeamName.includes("Racing Bulls")) bgTeamName = "VCARB";


                const itemHTML = `
                <div class="card" style="--color: ${teamColor}; --team-name: '${bgTeamName}';">
                    <div class="imgBx">
                        <img src="${carImageUrl}" alt="${team.team} Car" onerror="this.src='${defaultCarImage}';">
                    </div>
                    <div class="contentBx">
                        <h2>${team.team}</h2>
                        <div class="points">
                            <h3>Points :</h3>
                            <span>${team.points}</span>
                        </div>
                        <div class="drivers">
                            <h3>Drivers :</h3>
                            <span>${driver1}</span>
                            <span>${driver2}</span>
                        </div>
                        <!-- Removed Team Details Link -->
                    </div>
                </div>
                `;
                listContainer.innerHTML += itemHTML;
            });
        }


        // Setup Standings Tabs
        function setupTabs() {
            const driversTab = document.getElementById('drivers-tab');
            const constructorsTab = document.getElementById('constructors-tab');
            const driversTable = document.getElementById('drivers-table-container');
            const constructorsList = document.getElementById('constructors-list-container');
            
            // Check if elements exist
            if (!driversTab || !constructorsTab || !driversTable || !constructorsList) {
                console.error("Tab elements not found. Skipping tab setup.");
                return;
            }

            driversTab.addEventListener('click', () => {
                driversTable.classList.remove('hidden');
                constructorsList.classList.add('hidden');
                driversTab.classList.add('tab-active'); driversTab.classList.remove('tab-inactive');
                constructorsTab.classList.add('tab-inactive'); constructorsTab.classList.remove('tab-active');
            });

            constructorsTab.addEventListener('click', () => {
                driversTable.classList.add('hidden');
                constructorsList.classList.remove('hidden');
                constructorsTab.classList.add('tab-active'); constructorsTab.classList.remove('tab-inactive');
                driversTab.classList.add('tab-inactive'); driversTab.classList.remove('tab-active');
            });
        }

        // Setup Calendar Modal
        function setupCalendarModal() {
            const modal = document.getElementById('calendar-modal'); const modalBackdrop = document.getElementById('modal-backdrop'); const modalContent = modal.querySelector('.modal-content'); const closeBtn = document.getElementById('modal-close-btn'); const grid = document.getElementById('calendar-grid');
            if (!modal || !grid || !closeBtn || !modalBackdrop) return;
            const modalTitle = document.getElementById('modal-title'); const modalMap = document.getElementById('modal-map'); const modalDate = document.getElementById('modal-date'); const modalGp = document.getElementById('modal-gp'); const modalTrack = document.getElementById('modal-track'); const modalInsight = document.getElementById('modal-insight'); const modalLaps = document.getElementById('modal-laps'); const modalLength = document.getElementById('modal-length'); const modalStatsBlock = document.getElementById('modal-stats-block');
            function openModal(race) {
                if (!race) return;
                modalTitle.textContent = `${race.gp} Insights`; modalMap.src = race.mapUrl; modalMap.alt = `${race.track} Map`;
                modalMap.onerror = () => { modalMap.src = `https://placehold.co/768x432/374151/e11d48?text=Map+Error`; modalMap.alt = 'Track map loading error'; };
                modalDate.textContent = race.date; modalGp.textContent = race.gp; modalTrack.textContent = race.track; modalInsight.textContent = race.insight;
                if (race.stats) { modalLaps.textContent = race.stats.laps; modalLength.textContent = race.stats.length; modalStatsBlock.classList.remove('hidden'); }
                else { modalStatsBlock.classList.add('hidden'); }
                modal.classList.remove('hidden');
                setTimeout(() => { modal.classList.remove('opacity-0'); modalContent.classList.remove('scale-95', 'opacity-0'); modalContent.classList.add('scale-100', 'opacity-100'); }, 10);
            }
            function closeModal() {
                modalContent.classList.add('scale-95', 'opacity-0'); modal.classList.add('opacity-0');
                setTimeout(() => { modal.classList.add('hidden'); }, 300);
            }
            grid.addEventListener('click', (e) => {
                const card = e.target.closest('.calendar-card[data-round]');
                if (card) { const roundValue = card.dataset.round; if (roundValue === "break") return; const round = Number(roundValue); const raceData = leagueCalendar.find(r => r.round === round); openModal(raceData); }
            });
            closeBtn.addEventListener('click', closeModal); modalBackdrop.addEventListener('click', closeModal);
            window.addEventListener('keydown', (e) => { if (e.key === 'Escape' && !modal.classList.contains('hidden')) { closeModal(); } });
        }


        // --- PAGE INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
             // --- Loading Screen Logic ---
            const loadingScreen = document.getElementById('loading-screen');
            if (loadingScreen) {
                const animationDuration = 3500; const fadeDuration = 500;
                loadingScreen.style.transition = `opacity ${fadeDuration}ms ease-out ${animationDuration}ms, visibility ${fadeDuration}ms ease-out ${animationDuration}ms`;
                setTimeout(() => { loadingScreen.classList.add('hidden'); }, animationDuration);
            }
             // --- End Loading Screen Logic ---

            const yearSpan = document.getElementById('current-year');
            if (yearSpan) { yearSpan.textContent = new Date().getFullYear(); }
            else { console.warn("Could not find 'current-year' element."); }

            // --- DYNAMIC COUNTDOWN LOGIC ---
            const RACE_TIME_UTC = { hours: 17, minutes: 0, seconds: 0 }; const now = new Date(); let nextRace = null;
            for (const race of leagueCalendar) {
                if (race.round === 0 || race.round === "break") continue;
                const [day, month, year] = race.date.split('/').map(Number);
                const raceDate = new Date(Date.UTC(2000 + year, month - 1, day, RACE_TIME_UTC.hours, RACE_TIME_UTC.minutes, RACE_TIME_UTC.seconds));
                if (raceDate > now) { nextRace = race; nextRace.utcDate = raceDate; break; }
            }
            const nextRaceTitleEl = document.getElementById("next-race-gp"); const nextRaceTrackEl = document.getElementById("next-race-track"); const countdownEl = document.getElementById('countdown');
            if (nextRace) { nextRaceTitleEl.textContent = nextRace.gp; nextRaceTrackEl.textContent = nextRace.track; startCountdown(nextRace.utcDate.getTime()); }
            else { nextRaceTitleEl.textContent = "SEASON 1 COMPLETE"; nextRaceTrackEl.textContent = "The championship has concluded!"; countdownEl.innerHTML = '<h2 class="col-span-2 sm:col-span-4 text-4xl font-bold text-gray-400 text-center py-10">SEE YOU NEXT SEASON</h2>'; }
            // --- END DYNAMIC COUNTDOWN LOGIC ---

            populateCalendar();
            populateDriverCards(); // New function for driver cards
            populateConstructorList(); // New function for constructor cards
            setupTabs();
            setupCalendarModal();

            // --- p5.js Initialization ---
            const createP5Sketch = (targetElementId) => {
                return (sketch) => {
                    const opt = {
                        particles: sketch.windowWidth / 500 ? 1000 : 500,
                        noiseScale: 0.009,
                        angle: sketch.PI / 180 * -90,
                        h1: 340, // TTRL Red Hue
                        h2: 350, // TTRL Red Hue
                        s1: rand(70, 90), // Saturation
                        s2: rand(70, 90),
                        l1: rand(50, 70), // Lightness
                        l2: rand(50, 70),
                        strokeWeight: 1.2,
                        tail: 82,
                    };
                    const Particles = [];
                    let time = 0;
                    let sectionElement;

                    function rand(v1, v2) { return Math.floor(v1 + Math.random() * (v2 - v1)); }
                    function deg(a) { return sketch.PI / 180 * a; }

                    class Particle {
                        constructor(x, y) {
                            this.x = x; this.y = y; this.lx = x; this.ly = y;
                            this.vx = 0; this.vy = 0; this.ax = 0; this.ay = 0;
                            this.randomize();
                        }
                        randomize() {
                            this.hueSemen = Math.random();
                            this.hue = this.hueSemen > .5 ? 20 + opt.h1 : 20 + opt.h2;
                            this.sat = this.hueSemen > .5 ? opt.s1 : opt.s2;
                            this.light = this.hueSemen > .5 ? opt.l1 : opt.l2;
                            this.maxSpeed = this.hueSemen > .5 ? 3 : 2;
                        }
                        update() {
                            this.follow();
                            this.vx += this.ax; this.vy += this.ay;
                            var p = Math.sqrt(this.vx * this.vx + this.vy * this.vy);
                            var a = Math.atan2(this.vy, this.vx);
                            var m = Math.min(this.maxSpeed, p);
                            this.vx = Math.cos(a) * m; this.vy = Math.sin(a) * m;
                            this.x += this.vx; this.y += this.vy;
                            this.ax = 0; this.ay = 0;
                            this.edges();
                        }
                        follow() {
                            let angle = (sketch.noise(this.x * opt.noiseScale, this.y * opt.noiseScale, time * opt.noiseScale)) * sketch.PI * 0.5 + opt.angle;
                            this.ax += Math.cos(angle); this.ay += Math.sin(angle);
                        }
                        updatePrev() { this.lx = this.x; this.ly = this.y; }
                        edges() {
                            if (this.x < 0) { this.x = sketch.width; this.updatePrev(); }
                            if (this.x > sketch.width) { this.x = 0; this.updatePrev(); }
                            if (this.y < 0) { this.y = sketch.height; this.updatePrev(); }
                            if (this.y > sketch.height) { this.y = 0; this.updatePrev(); }
                        }
                        render () {
                            sketch.stroke(`hsla(${this.hue}, ${this.sat}%, ${this.light}%, .5)`);
                            sketch.line(this.x, this.y, this.lx, this.ly);
                            this.updatePrev();
                        }
                    }

                    sketch.setup = () => {
                        sectionElement = document.getElementById(targetElementId.substring(1));
                        if (!sectionElement) {
                            console.error(`p5.js target element "${targetElementId}" not found.`);
                            return;
                        }
                        const canvas = sketch.createCanvas(sectionElement.offsetWidth, sectionElement.offsetHeight);
                        canvas.parent(targetElementId.substring(1)); // Attach canvas to the target element
                        
                        for (let i = 0; i < opt.particles; i++) {
                            Particles.push(new Particle(Math.random() * sketch.width, Math.random() * sketch.height));
                        }
                        sketch.strokeWeight(opt.strokeWeight);

                        // Add click listener to the section
                        sectionElement.addEventListener('click', () => {
                            opt.h1 = rand(330, 360); // Red/Rose hues
                            opt.h2 = rand(330, 360);
                            opt.s1 = rand(70, 90); opt.s2 = rand(70, 90);
                            opt.l1 = rand(50, 70); opt.l2 = rand(50, 70);
                            opt.angle += deg(rand(60, 60)) * (Math.random() > .5 ? 1 : -1);
                            for (let p of Particles) { p.randomize(); }
                        });
                    };

                    sketch.draw = () => {
                        time++;
                        sketch.background(3, 7, 18, 100 - opt.tail); // Match #030712 bg with tail
                        for (let p of Particles) { p.update(); p.render(); }
                    };

                    sketch.windowResized = () => {
                        if (sectionElement) {
                            sketch.resizeCanvas(sectionElement.offsetWidth, sectionElement.offsetHeight);
                        }
                    };
                };
            }
            
            // Create the p5.js instance for Standings
            new p5(createP5Sketch("#standings"));
            // Create the p5.js instance for Contact
            new p5(createP5Sketch("#contact"));
            // --- End p5.js Initialization ---

            // --- NEW Overlay Navigation Script ---
            $('.open-overlay').click(function() {
                var overlay_navigation = $('.overlay-navigation'),
                nav_item_1 = $('nav li:nth-of-type(1)'),
                nav_item_2 = $('nav li:nth-of-type(2)'),
                nav_item_3 = $('nav li:nth-of-type(3)'),
                nav_item_4 = $('nav li:nth-of-type(4)'),
                nav_item_5 = $('nav li:nth-of-type(5)'),
                top_bar = $('.bar-top'),
                middle_bar = $('.bar-middle'),
                bottom_bar = $('.bar-bottom');

                // Close menu when a link is clicked
                overlay_navigation.find('a').click(function() {
                    overlay_navigation.removeClass('overlay-active');
                    top_bar.removeClass('animate-top-bar').addClass('animate-out-top-bar');
                    middle_bar.removeClass('animate-middle-bar').addClass('animate-out-middle-bar');
                    bottom_bar.removeClass('animate-bottom-bar').addClass('animate-out-bottom-bar');
                    overlay_navigation.removeClass('overlay-slide-down').addClass('overlay-slide-up')
                    nav_item_1.removeClass('slide-in-nav-item').addClass('slide-in-nav-item-reverse');
                    nav_item_2.removeClass('slide-in-nav-item-delay-1').addClass('slide-in-nav-item-delay-1-reverse');
                    nav_item_3.removeClass('slide-in-nav-item-delay-2').addClass('slide-in-nav-item-delay-2-reverse');
                    nav_item_4.removeClass('slide-in-nav-item-delay-3').addClass('slide-in-nav-item-delay-3-reverse');
                    nav_item_5.removeClass('slide-in-nav-item-delay-4').addClass('slide-in-nav-item-delay-4-reverse');
                });

                overlay_navigation.toggleClass('overlay-active');
                if (overlay_navigation.hasClass('overlay-active')) {

                    top_bar.removeClass('animate-out-top-bar').addClass('animate-top-bar');
                    middle_bar.removeClass('animate-out-middle-bar').addClass('animate-middle-bar');
                    bottom_bar.removeClass('animate-out-bottom-bar').addClass('animate-bottom-bar');
                    overlay_navigation.removeClass('overlay-slide-up').addClass('overlay-slide-down')
                    nav_item_1.removeClass('slide-in-nav-item-reverse').addClass('slide-in-nav-item');
                    nav_item_2.removeClass('slide-in-nav-item-delay-1-reverse').addClass('slide-in-nav-item-delay-1');
                    nav_item_3.removeClass('slide-in-nav-item-delay-2-reverse').addClass('slide-in-nav-item-delay-2');
                    nav_item_4.removeClass('slide-in-nav-item-delay-3-reverse').addClass('slide-in-nav-item-delay-3');
                    nav_item_5.removeClass('slide-in-nav-item-delay-4-reverse').addClass('slide-in-nav-item-delay-4');
                } else {
                    top_bar.removeClass('animate-top-bar').addClass('animate-out-top-bar');
                    middle_bar.removeClass('animate-middle-bar').addClass('animate-out-middle-bar');
                    bottom_bar.removeClass('animate-bottom-bar').addClass('animate-out-bottom-bar');
                    overlay_navigation.removeClass('overlay-slide-down').addClass('overlay-slide-up')
                    nav_item_1.removeClass('slide-in-nav-item').addClass('slide-in-nav-item-reverse');
                    nav_item_2.removeClass('slide-in-nav-item-delay-1').addClass('slide-in-nav-item-delay-1-reverse');
                    nav_item_3.removeClass('slide-in-nav-item-delay-2').addClass('slide-in-nav-item-delay-2-reverse');
                    nav_item_4.removeClass('slide-in-nav-item-delay-3').addClass('slide-in-nav-item-delay-3-reverse');
                    nav_item_5.removeClass('slide-in-nav-item-delay-4').addClass('slide-in-nav-item-delay-4-reverse');
                }
            })
            // --- End Overlay Navigation Script ---

        });
    </script>
    <!-- MOVED Tailwind Script to end of body -->
    <script src="https://cdn.tailwindcss.com"></script>
</body>
</html>

